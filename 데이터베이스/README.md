# ë°ì´í„°ë² ì´ìŠ¤ ì •ë¦¬

## Relational Model
- í…Œì´ë¸” : relation
- í–‰ : tuple
- ì—´ : attribute
- ë„ë©”ì¸(domain) : ê° ì—´ì˜ ë„ë©”ì¸ì€ í•´ë‹¹ ì—´ì— í—ˆìš©ëœ ê°’ë“¤ì˜ ì§‘í•©
  - ëª¨ë“  ì—´ì˜ ë„ë©”ì¸ì€ atomic -> ë‚˜ëˆŒ ìˆ˜ ì—†ëŠ” ê°’

#### Keys
- superkey(ìŠˆí¼ í‚¤)ëŠ” í•´ë‹¹ ê°’ì´ ìœ ì¼í•œ íŠœí”Œì„ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ê²ƒ\
- candidate key(í›„ë³´ í‚¤)ëŠ” superkeyë“¤ ì¤‘ ê°’ì´ ê°€ì¥ ì ì€ ê²ƒ ex {ID} {ID, name} superkeyë“¤ ì¤‘ {ID}ê°€  candidate key
- candidate keyë“¤ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ primary key(ê¸°ë³¸ í‚¤)ê°€ ë  ìˆ˜ ìˆë‹¤.
- foreign key(ì™¸ë˜ í‚¤) ì œì•½ : í•œ í…Œì´ë¸”ì˜ ê°’ì´ ë°˜ë“œì‹œ ë‹¤ë¥¸ í…Œì´ë¸”ì—ì„œ ë‚˜íƒ€ë‚˜ì•¼ í•œë‹¤.

#### relational algebra
- Select: `ğœ` - íŠœí”Œ(í–‰) ì„ íƒ
- Project: `Î ` - ì†ì„±(ì—´) ì„ íƒ
- Union: `âˆª` - í•©ì§‘í•©
- Set difference: `â€“` - ì°¨ì§‘í•©
- Cartesian product: `Ã—` - í…Œì´ë¸” ì¡°ì¸ ì „ì²´ ê³±ì„ ë‚˜íƒ€ëƒ„
- Rename: `Ï`

- ë‚´ì¶”ëŸ´ ì¡°ì¸ : `â‹ˆ` - ë‘ ë¦´ë ˆì´ì…˜ R, Sì— ëŒ€í•´ì„œ êµì§‘í•©ì¸ ì›ì†Œë“¤ì˜ ì§‘í•©
- ì„¸íƒ€ ì¡°ì¸ : `â‹ˆÎ¸` - `R â‹ˆÎ¸ S = ÏƒÎ¸(R Ã— S)` ê³¼ ë™ì¼


## SQL Basics

#### create
create table r(a1 d1, a2 d2,
	(integrity-constraint)
)

#### integrity constraint
- primary key
- foreign key() references r
- not null

#### alter
- alter table r add A D -> í…Œì´ë¸” r ì— D ë„ë©”ì¸ì¸ A ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¶”ê°€
- alter table r drop A -> í…Œì´ë¸” rì— A ì–´íŠ¸ë¦¬ë·°íŠ¸ ì‚­ì œ

- ì „í˜•ì ì¸ SQL ì¿¼ë¦¬
```
select A1, ... An
from r1, r2, ..., rm
where p
```
-> SQL ì¿¼ë¦¬ì˜ ê²°ê³¼ëŠ” ë¦´ë ˆì´ì…˜

#### select ì ˆ
- ì†ì„±ë“¤ì„ ë½‘ì•„ëƒ„
- ë””í´íŠ¸ë¡œ ì¤‘ë³µì„ í—ˆìš©, ì¤‘ë³µì„ ì—†ì• ê³  ì‹¶ìœ¼ë©´ distinct

#### whereì ˆ
- ì¡°ê±´ ëª…ì‹œ

#### from ì ˆ
- ì¹´í‹°ì‹œì•ˆ í”„ë¡œë•íŠ¸ì™€ ë™ì¼í•˜ë‹¤.

#### order by
- ìˆœì„œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŒ
- ì˜¤ë¦„ì°¨ìˆœì´ ë””í´íŠ¸

#### group by
- íŠ¹ì • ì†ì„±ì— ëŒ€í•œ ê·¸ë£¹ìœ¼ë¡œ ì—°ì‚° ìˆ˜í–‰

#### ì¤‘ì²©ëœ ì„œë¸Œ ì¿¼ë¦¬
```
select distinct course_id
from section
where semester = â€™Fallâ€™ and year = 2009 and course_id in
  (select course_id
  from section
  where semester = â€™Springâ€™ and year= 2010);
```


## Intermediate SQL

#### inner join
- ì •í™•íˆ ë§¤ì¹˜í•˜ëŠ” íŠœí”Œë“¤ë§Œ í¬í•¨ì‹œí‚¤ëŠ”ê²ƒ

#### outer join
- ë§¤ì¹˜ë˜ì§€ ì•ŠëŠ” íŠœí”Œë„ í¬í•¨ì‹œí‚¤ëŠ” ê²ƒ
- ë§¤ì¹˜ë˜ì§€ ì•ŠëŠ” ì†ì„±ì€ null
- left outer join : ì™¼ìª½ ë¦´ë ˆì´ì…˜ì˜ íŠœí”Œë“¤ì€ ëª¨ë‘ í¬í•¨
- right outer join : ì˜¤ë¥¸ìª½ ë¦´ë ˆì´ì…˜ì˜ íŠœí”Œë“¤ ëª¨ë‘ í¬í•¨
- full outer join : ì™¼ìª½, ì˜¤ë¥¸ìª½ ëª¨ë‘ í¬í•¨

#### transaction
- ì—¬ëŸ¬ SQLì´ í•˜ë‚˜ì˜ ë™ì‘ìœ¼ë¡œ ì´ë£¨ì–´ì§€ëŠ” ê²ƒ
- ì „ì²´ ë‹¤ ì‹¤í–‰ë˜ê±°ë‚˜(commit), ëª¨ë‘ ì‹¤í–‰ë˜ì§€ ì•Šì•„ì•¼ í•¨(roll back)




## ER model
- entity : ë‹¤ë¥¸ ëª¨ë“  ê°ì²´ë“¤ê³¼ êµ¬ë³„ë˜ëŠ” ì‚¬ë¬¼
- entityë“¤ì€ ì†ì„±ì„ ê°€ì§„ë‹¤ ex) ì‚¬ëŒì€ ì´ë¦„ê³¼ ì£¼ì†Œê°€ ìˆë‹¤.
- entity set : ê°™ì€ ì†ì„±ì„ ê³µìœ í•˜ëŠ” ì—”í‹°í‹°ë“¤ì˜ ì§‘í•©
- domain : ê° ì†ì„±ë“¤ì— í—ˆë½ëœ ê°’ë“¤ì˜ ì§‘í•©

#### ì†ì„±ì˜ ë¶„ë¥˜(ìœ í˜•)
- ë‹¨ìˆœ ì†ì„±(simple attribute) - ë³µí•© ì†ì„±(composite attribute)
- ë‹¨ì¼ê°’ ì†ì„±(single-valued attribute) - ë‹¤ì¤‘ê°’ ì†ì„±(multivalued attribute)
- ìœ ë„ ì†ì„±(derived attribute) - ì €ì¥ ì†ì„±

#### ëŒ€ì‘ ì¹´ë””ë„ë¦¬í‹°(mapping cardinality)
- ì¼ëŒ€ì¼(one to one)
- ì¼ëŒ€ë‹¤(one to many)
- ë‹¤ëŒ€ì¼(many to one)
- ë‹¤ëŒ€ë‹¤(many to many)

#### Keys
- super key : ì—”í‹°í‹° í•˜ë‚˜ë§Œì„ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ì†ì„±ë“¤ì˜ ì§‘í•©
- candidate key : super keyë“¤ ì¤‘ ì†ì„±ì˜ ìˆ˜ê°€ ê°€ì¥ ì ì€ í‚¤
- primary key : candidate key ì¤‘ ì„ íƒëœ í‚¤

- primary keyì˜ ì¡°í•©ìœ¼ë¡œ relationshipì˜ super keyë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
-> ì—”í‹°í‹° ì…‹ ë‘˜ì˜ ì¡°í•©ì—ëŠ” ìµœëŒ€ í•œê°œì˜ relationshipì´ ì¡´ì¬

## íŠ¸ëœì­ì…˜ (Transaction)
- í•˜ë‚˜ì˜ ë…¼ë¦¬ì  ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ì‘ì—… ë‹¨ìœ„
- ì—¬ëŸ¬ ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ëŠ” ë‹¨ìœ„

### ACID ì†ì„±
- atomicity (ì›ìì„±) : íŠ¸ëœì­ì…˜ì´ ëª¨ë‘ ì‹¤í–‰ë˜ê±°ë‚˜, ì‹¤íŒ¨í•  ê²½ìš° ì „ë¶€ ì‹¤í–‰ ì•ˆë˜ëŠ”ê²ƒ
- consistency (ì¼ê´€ì„±) : ê²©ë¦¬ëœ íŠ¸ëœì­ì…˜ì˜ ì‹¤í–‰ì´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì¼ê´€ì„±ì„ ë³´ì¡´í•´ì•¼í•¨
- isolation (ê²©ë¦¬ì„±) : í•œ íŠ¸ëœì­ì…˜ì˜ ì‹¤í–‰ì¤‘ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ë¼ì§€ ëª»í•˜ë„ë¡ í•˜ëŠ”ê²ƒ
- durability (ì§€ì†ì„±) : ì‹œìŠ¤í…œì— crashê°€ ë°œìƒí•˜ë”ë¼ë„ íŠ¸ëœì­ì…˜ì´ ë°˜ì˜ë˜ì–´ì•¼í•˜ëŠ”ê²ƒ

- ê²©ë¦¬ì„±ì„ ë³´ì¥í•˜ëŠ”ê±´ ì‹œìŠ¤í…œ ì„±ëŠ¥ì— ì•ˆ ì¢‹ì„ ìˆ˜ ìˆìŒ - ì•½ê°„ í’€ì–´ì¤Œ

```
ì˜ˆì‹œ
A -> B ë¡œ 50ë‹¬ëŸ¬ ë³´ë‚´ëŠ” ìƒí™©
transaction i
read(A)
A = A - 50
write(A)
read(B)
B = B + 50
write(B)
```

- ì¼ê´€ì„± - A + Bì˜ í•©ì´ íŠ¸ëœì­ì…˜ì´ ëë‚˜ê³  ë‚˜ì„œë„ ê°™ì•„ì•¼í•¨
- ì›ìì„± - ì¤‘ê°„ì— ì‹¤íŒ¨(ë¹„ì¼ê´€ì ì¸ ìƒíƒœ)í•˜ë©´ ëª¨ë‘ ë˜ëŒì•„ê°€ì•¼í•¨ -> íŠ¸ëœì­ì…˜ ì¤‘ì—ëŠ” ì¼ê´€ì„±ì´ ê¹¨ì§ˆ ìˆ˜ë„ ìˆì§€ë§Œ, íŠ¸ëœì­ì…˜ ì „ì´ë‚˜ í›„ì—ëŠ” ì¼ê´€ì ì´ì—¬í•¨ - ë¡œê·¸ê°€ í•„ìš”
- ì§€ì†ì„± - íŠ¸ëœì­ì…˜ì´ ì„±ê³µí–ˆì„ë•Œ, ì–´ë– í•œ ì‹œìŠ¤í…œ ì¥ì• ê°€ ìƒê²¨ë„ ë°ì´í„° ì†ì‹¤ì´ ì—†ì–´ì•¼í•¨ - íŠ¸ëœì­ì…˜ ì™„ë£Œ ì´ì „ì— ë””ìŠ¤í¬ì— ì“°ê±°ë‚˜, ë””ìŠ¤í¬ì— ì—…ë°ì´íŠ¸ ì •ë³´ë¥¼ ë¨¼ì € ì¨ë†“ìŒ - ì´ëŸ¬ë©´ ì‹œìŠ¤í…œ ì¥ì•  í›„ì—ë„ ë³µêµ¬ ê°€ëŠ¥
- ê²©ë¦¬ì„± - ë§Œì•½ write(A) ìƒíƒœì—ì„œ ë™ì‹œì ìœ¼ë¡œ ì‹¤í–‰ì¤‘ì¸ íŠ¸ëœì­ì…˜ì´ A + Bë¥¼ ì°¸ì¡°í•˜ë©´ ë¹„ì¼ê´€ì ì¸ ê°’ì„ ì–»ê²Œë¨ - ì´ë¥¼ í•´ê²°í•˜ëŠ”ê²Œ ê²©ë¦¬ì„± - serialí•˜ê²Œ ë™ì‘í•˜ê²Œ í•˜ë©´ ê°€ëŠ¥ì€ í•˜ì§€ë§Œ ë™ì‹œì„±ì˜ ì¥ì ì„ ëª¨ë‘ ìƒìŒ


### íŠ¸ëœì­ì…˜ ìƒíƒœ
- aborted - ì„±ê³µì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œë˜ì§€ ëª»í•œ ìƒíƒœ
- roll back - aborted ìƒíƒœì—ì„œ ì¤‘ê°„ê¹Œì§€ì˜ ë³€í™”ë¥¼ ë³µêµ¬ì‹œí‚¤ëŠ” ê²ƒ
- roll back ì€ ë³´í†µ logë¥¼ í†µí•´ ìˆ˜í–‰
- commited - ì„±ê³µì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì´ ì™„ë£Œëœ ìƒíƒœ - ì‹œìŠ¤í…œ ì¥ì• ê°€ ë°œìƒí•´ë„ ë°˜ë“œì‹œ ìœ ì§€ë˜ì–´ì•¼í•¨
í•œë²ˆ ì»¤ë°‹ëœê±´ ë³µêµ¬ ë¶ˆê°€ëŠ¥ - ë³µêµ¬í•˜ë ¤ë©´ compensating transaction ì‹¤í–‰í•´ì•¼í•¨

--------------------------------------------
- active : íŠ¸ëœì­ì…˜ì´ ì‹¤í–‰ì¤‘ì¸ ìƒíƒœ - ê·¸ë¦¼ ì¡´ì¬
- partially committed : ë§ˆì§€ë§‰ statementê°€ ì‹¤í–‰ëœ í›„ì˜ ìƒíƒœ
- failed : ì‹¤í–‰ì´ ë”ì´ìƒ ë˜ì§€ ì•ŠìŒì„ ë°œê²¬í•œ í›„ì˜ ìƒíƒœ
- aborted : roll backë˜ê³  íŠ¸ëœì­ì…˜ ì‹œì‘ ì´ì „ ìƒíƒœë¡œ ëŒì•„ê°„ ìƒíƒœ
- committed : ì„±ê³µì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì´ ë§ˆë¬´ë¦¬ëœ ìƒíƒœ

### íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€
- ì•„ë˜ë¡œ ê°ˆìˆ˜ë¡ ë‚®ì€ ê²©ë¦¬
- serializable : ì™„ë²½íˆ ê²©ë¦¬ë˜ì–´ ìˆœì°¨ì ìœ¼ë¡œë§Œ ì‹¤í–‰ ê°€ëŠ¥í•œ ìˆ˜ì¤€
- repeatable read : ì»¤ë°‹ëœ ë°ì´í„°ë§Œ ì½ì„ ìˆ˜ ìˆê³ , í•œ íŠ¸ëœì­ì…˜ì´ ì½ëŠ” ë™ì•ˆì—ëŠ” ì—…ë°ì´íŠ¸ ë¶ˆê°€ëŠ¥
- read committed : ì»¤ë°‹ëœ ë°ì´í„°ë§Œ ì½ì„ ìˆ˜ ìˆì§€ë§Œ ì½ëŠ” ë™ì•ˆ ì—…ë°ì´íŠ¸ ê°€ëŠ¥
- read uncommitted : ì»¤ë°‹ë˜ì§€ ì•Šì€ ë°ì´í„°ë„ ì½ì„ ìˆ˜ ìˆìŒ
- ëª¨ë“  ë‹¨ê³„ì—ì„œ dirty write ë¥¼ í—ˆìš©í•˜ì§€ ì•ŠìŒ - ì´ë¯¸ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ì˜í•´ ìˆ˜ì •ëœ ë°ì´í„°ë¥¼ ë˜ ì“°ëŠ”ê²Œ ë¶ˆê°€ëŠ¥

### ë¬´ê²°ì„± (Integrity)
- ë°ì´í„°ì˜ ì •í™•ì„±, ì¼ê´€ì„±, ìœ íš¨ì„± ìœ ì§€í•˜ëŠ” ê²ƒ
#### ì¢…ë¥˜
- ê°œì²´ ë¬´ê²°ì„± : ê¸°ë³¸í‚¤ëŠ” null ë¶ˆê°€
- ì°¸ì¡° ë¬´ê²°ì„± : ì„œë¡œ ì°¸ì¡°ì¸ ê´€ê³„ì¸ í…Œì´ë¸”ì˜ ë°ì´í„°ëŠ” í•­ìƒ ê°’ì´ ì¼ê´€ë˜ì–´ì•¼í•¨
- ê³ ìœ  ë¬´ê²°ì„± : unique ì¡°ê±´ì´ ì£¼ì–´ì§„ ê²½ìš° ëª¨ë‘ ê³ ìœ í•œ ê°’ì„ ê°€ì ¸ì•¼í•¨
- NULL ë¬´ê²°ì„± : NOT NULL ì¡°ê±´ì´ ì£¼ì–´ì§„ ê²½ìš° í•´ë‹¹ ì†ì„± ê°’ì€ NULL ë¶ˆê°€




## ì •ê·œí™”(Normalization)
- ì¡´ì¬ ì´ìœ 
	- ì´ìƒ í˜„ìƒ(anomaly) í•´ê²°
	- ì €ì¥ ê³µê°„ íš¨ìœ¨í™”
### ì´ìƒ í˜„ìƒ (Anomaly)
	- ê°±ì‹  ì´ìƒ : ì¤‘ë³µëœ íŠœí”Œë“¤ ì¤‘ í•˜ë‚˜ë§Œ ê°±ì‹ ë˜ì–´ ë‚˜ë¨¸ì§€ë“¤ì€ ì•„ì§ ê°±ì‹  ì „ ë°ì´í„°ë¥¼ ìœ ì§€í•˜ëŠ” ê²½ìš°
	- ì‚­ì œ ì´ìƒ : í•„ìš”í•œ ë°ì´í„°ê°€ í•¨ê»˜ ì‚­ì œë˜ëŠ” ê²ƒ
	- ì‚½ì… ì´ìƒ : í•˜ë‚˜ì˜ í•„ë“œ ê°’ì´ NULLì´ ë¶ˆê°€ëŠ¥í•˜ì—¬ ì‚½ì…ì´ ì•ˆë˜ëŠ” ê²½ìš°
### ì œ 1ì •ê·œí˜•
- ëª¨ë“  ë„ë©”ì¸ì´ atomic â€“ ë‚˜ëˆŒ ìˆ˜ ì—†ì–´ì•¼í•¨

|number|content|
|---------|-----------|
|1|a, b|
|2|c, d|

->  ë³€í™” í›„
|number|content|
|--------|--------|
|1|a|
|1|b|
|2|c|
|2|d|

### ì œ 2ì •ê·œí˜•
- ì œ 1ì •ê·œí˜•ì´ë©´ì„œ ê¸°ë³¸í‚¤ê°€ ì•„ë‹Œ ëª¨ë“  ì†ì„±ì´ ê¸°ë³¸í‚¤ì— ì™„ì „ í•¨ìˆ˜ ì¢…ì†ì 
- 1NF ì´ë©´ì„œ ë³µí•© í›„ë³´í‚¤ê°€ ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ 2 ì •ê·œí˜•

|ì´ë¦„|		ê¸°ìˆ |		ê·¼ë¬´ì§€|
|----------|----------|-------------|
|A	|	B	|	ì„œìš¸|
|A	|	C	|	ì„œìš¸|
|A	|	D	|	ì„œìš¸|
|Z	|	X	|	ê²½ê¸°ë„|

ì—ì„œ {ì´ë¦„, ê¸°ìˆ } ì´ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ê°€ ëœë‹¤. 2 ì •ê·œí˜•ì„ ë§Œì¡±í•˜ë ¤ë©´ ê¸°ë³¸í‚¤ê°€ ì•„ë‹Œ ëª¨ë“  ì†ì„±ì´ì™„ì „ í•¨ìˆ˜ ì¢…ì†ì ì´ì—¬ì•¼ í•œë‹¤. ì¦‰, ì´ë¦„, ê¸°ìˆ  -> ê·¼ë¬´ì§€ ì—¬ì•¼ í•˜ëŠ”ë° ê·¼ë¬´ì§€ëŠ” ì‚¬ëŒ ì´ë¦„ì—ë§Œ ì¢…ì†ì ì´ë‹¤. ì´ë¦„ -> ê·¼ë¬´ì§€ ì´ë¯€ë¡œ ì´ëŠ” 2 ì •ê·œí˜•ì— ìœ„ë°°ëœë‹¤. ì´ë¥¼ ë¶„ë¦¬í•˜ì—¬

|ì´ë¦„|ê·¼ë¬´ì§€| 
|-----------|------|
|A|ì„œìš¸|	
|Z|ê²½ê¸°ë„|


|ì´ë¦„|ê¸°ìˆ |
|---|----------|
|A|B|
|A|C|
|A|D|
|Z|X|

ë¼ëŠ” í…Œì´ë¸”ë¡œ ë‚˜ëˆ„ë©´ ì™¼ìª½ì˜ ê¸°ë³¸í‚¤ëŠ” {ì´ë¦„}, ì˜¤ë¥¸ìª½ì˜ ê¸°ë³¸í‚¤ëŠ” {ì´ë¦„, ê¸°ìˆ }ì´ ëœë‹¤. ë”°ë¼ì„œ 2 ì •ê·œí˜•ì„ ë§Œì¡±í•œë‹¤.

### ì œ 3ì •ê·œí˜•
- 2 ì •ê·œí˜•ì„ ë§Œì¡±í•˜ê³ , ì´í–‰ì  í•¨ìˆ˜ ì¢…ì†ì´ ì—†ì–´ì•¼ í•¨
- ì´í–‰ì  í•¨ìˆ˜ ì¢…ì† : A -> B, B -> C ì´ë©´ A -> C ì¸ê²ƒ

|ëŒ€íšŒ|ìš°ìŠ¹|ìš°ìŠ¹ì ìƒë…„ ì›”ì¼|
|----|-----|--------|
|A|a|99.03.23|
|B|b|00.03.23|

ì˜ ê²½ìš° ëŒ€íšŒ -> ìš°ìŠ¹ì ì´ê³ , ìš°ìŠ¹ì -> ìƒë…„ ì›”ì¼ ì´ë¯€ë¡œ ëŒ€íšŒ -> ìƒë…„ ì›”ì¼ ì´ ì„±ë¦½í•˜ê²Œ ëœë‹¤. ë”°ë¼ì„œ ì œ 3ì •ê·œí˜•ì„ ë§Œì¡±í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë¥¼ ë¶„ë¦¬í•˜ì—¬ 

|ëŒ€íšŒ|ìš°ìŠ¹ì|	
|--|--|
|A|a|
|B|b|

|ìš°ìŠ¹ì|ìƒë…„ì›”ì¼|
|-----|---------|
|a|99.03.23|
|b|00.03.23|

ë¡œ ë§Œë“¤ë©´ ì œ 3ì •ê·œí˜•ì„ ë§Œì¡±í•˜ê²Œ ëœë‹¤.

### ë³´ì´ìŠ¤-ì½”ë“œ ì •ê·œí˜• (BCNF)
- ì œ 3ì •ê·œí˜•ì„ ë§Œì¡±í•¨
- ê²°ì •ìê°€ í›„ë³´í‚¤ê°€ ì•„ë‹Œ í•¨ìˆ˜ ì¢…ì† ì œê±°

### ì„±ëŠ¥
- ì •ê·œí˜•ì„ í†µí•´ í…Œì´ë¸”ì„ ë‚˜ëˆ ë„ ì„±ëŠ¥ì€ ì¢‹ì•„ì§ˆìˆ˜ë„ ë‚˜ë¹ ì§ˆìˆ˜ë„
- why? í…Œì´ë¸”ì„ ë‚˜ëˆ„ë©´ ê·¸ë§Œí¼ ì¡°ì¸ì„ í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„ì§€ë¯€ë¡œ



## Indexing

##### ì¸ë±ì‹±ì˜ ì¡´ì¬ ì´ìœ 
- ë§ì€ ì¿¼ë¦¬ê°€ íŒŒì¼ ë‚´ë¶€ì˜ ë ˆì½”ë“œì˜ ì¼ë¶€ë¶„ë§Œì„ ì°¸ì¡°í•¨
- ì¿¼ë¦¬ë§ˆë‹¤ ëª¨ë“  ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¤ëŠ”ê±´ ë¹„íš¨ìœ¨ì 

### 1. ê¸°ì´ˆ ê°œë…
ì¸ë±ì‹± : ì±…ì—ì„œì˜ ì¸ë±ìŠ¤ì™€ ë§¤ìš° ë¹„ìŠ·

#### ì¸ë±ì‹± êµ¬í˜„
- ê¸°ë³¸ í‚¤ë¡œ ì •ë ¬ëœ ë¦¬ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•˜ë©´ì„œ ì¸ë±ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ”ê±´ ë¹„íš¨ìœ¨ì 
1. ì¸ë±ìŠ¤ ìì²´ê°€ ì»¤ì§
2. ê²€ìƒ‰ ì‹œê°„ì´ ì¤„ì–´ë“¤ê¸´ í•˜ì§€ë§Œ ê·¸ë˜ë„ ë§ì´ ê±¸ë¦¼
3. ì—…ë°ì´íŠ¸ ì—°ì‚°ì´ ë§¤ìš° ë¹„ì‹¸ì§

#### ì¸ë±ìŠ¤ ê¸°ë³¸ ì¢…ë¥˜ 2ê°€ì§€
1. ordered index : ê°’ì˜ ì •ë ¬ëœ ìˆœì„œì— ê¸°ë°˜í•˜ì—¬ ë§Œë“¦
2. hash index : ë²„ì¼“ì˜ ë²”ìœ„ ì•ˆì— ë¶„í¬ë˜ì–´ìˆëŠ” ê°’ì— ê¸°ë°˜í•˜ì—¬ ë§Œë“¦
- ê²€ìƒ‰ í‚¤ : ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” attributeì˜ ì§‘í•©







### 2. ordered index
- ì¸ë±ìŠ¤ êµ¬ì¡°ëŠ” íŠ¹ì • ê²€ìƒ‰ í‚¤ì™€ ê´€ë ¨ë˜ì–´ ìˆìŒ
- ordered indexëŠ” ê²€ìƒ‰ í‚¤ì— ëŒ€í•´ ì •ë ¬ëœ ìˆœì„œë¡œ ì¡´ì¬
- í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ (í”„ë¼ì´ë¨¸ë¦¬ ì¸ë±ìŠ¤) : ì¸ë±ìŠ¤ì˜ ìˆœì„œì™€ ì‹¤ì œ íŒŒì¼ì˜ ì •ë ¬ ìˆœì„œê°€ ê°™ì€ ê²½ìš°
- ë³´í†µ ê¸°ë³¸ í‚¤ì— ëŒ€í•œ ì¸ë±ìŠ¤ì¸ ê²½ìš°ê°€ ë§ì§€ë§Œ, ì•„ë‹ ìˆ˜ë„ ìˆìŒ
- ë…¼í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ (ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤) : ì¸ë±ìŠ¤ì˜ ìˆœì„œì™€ ì‹¤ì œ íŒŒì¼ì˜ ì •ë ¬ ìˆœì„œê°€ ë‹¤ë¥¸ ê²½ìš°


#### 2.1 dense and sparse index
- ì¸ë±ìŠ¤ ë ˆì½”ë“œëŠ” ê²€ìƒ‰ í‚¤ ê°’ê³¼ í•´ë‹¹ ë¸”ë¡ì— ëŒ€í•œ í¬ì¸í„°ë¡œ ì´ë£¨ì–´ì§
- dense index : ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ê°€ ì‹¤ì œ íŒŒì¼ ì—”íŠ¸ë¦¬ ì „ë¶€ë¥¼ ê°€ë¦¬í‚¬ ë•Œ - ë ˆì½”ë“œ í•˜ë‚˜ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë¨
- sparse index : ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ê°€ ì‹¤ì œ íŒŒì¼ ì—”íŠ¸ë¦¬ ì¼ë¶€ë§Œì„ ê°€ë¦¬í‚¬ ë•Œ - ë¸”ëŸ­ ë‹¨ìœ„ë¡œ ê°€ë¦¬í‚¤ê²Œ ë¨
- sparse index ëŠ” ì „ì²´ë¥¼ ê°€ë¦¬í‚¤ì§€ ì•Šìœ¼ë¯€ë¡œ ë°˜ë“œì‹œ í”„ë¼ì´ë¨¸ë¦¬ ì¸ë±ìŠ¤ì—¬ì•¼í•¨
- sparse indexëŠ” ë¸”ëŸ­ì„ ì°¾ì•„ê°€ì„œ offsetìœ¼ë¡œ ì›í•˜ëŠ” ë ˆì½”ë“œë¥¼ ì°¾ìŒ
- dense indexê°€ ë” ë¹ ë¥´ì§€ë§Œ, ê³µê°„ì„ ë” ì°¨ì§€í•˜ê³  ì‚½ì… ì‚­ì œê°€ ë” ì˜¤ë²„í—¤ë“œê°€ í¼

#### 2.2 ë©€í‹°ë ˆë²¨ ì¸ë±ìŠ¤
- ë§Œì•½ dense indexë¥¼ 1ì–µê°œì˜ íŠœí”Œì´ ìˆëŠ” ë¦´ë ˆì´ì…˜ì— ë§Œë“¤ë©´ ë°±ë§Œê°œì˜ ë¸”ë¡ì´ í•„ìš”í•¨
- ì¸ë±ìŠ¤ê°€ ì¶©ë¶„íˆ ì‘ì•„ì„œ ë©”ì¸ ë©”ëª¨ë¦¬ì— ë‹¤ ë“¤ì–´ê°€ì§€ë©´ ì†ë„ê°€ ë§¤ìš° í–¥ìƒë¨
- outerëŠ” í”„ë¼ì´ë¨¸ë¦¬ë¡œ, innerëŠ” sparseë¡œ êµ¬ì„±
- I/O íšŸìˆ˜ë¥¼ ì¤„ì„ìœ¼ë¡œì¨ ì†ë„ê°€ í–¥ìƒë¨

#### 2.3 ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸
- ë ˆì½”ë“œê°€ ì—…ë°ì´íŠ¸ë˜ë©´ ì¸ë±ìŠ¤ ë˜í•œ ì—…ë°ì´íŠ¸ ë˜ì–´ì•¼í•¨
- ì‹±ê¸€ ë ˆë²¨ ì¸ë±ìŠ¤ ê°€ì •

##### 2.3.1 ì‚½ì…

- dense index
1. ë§Œì•½ ê²€ìƒ‰ í‚¤ê°€ ì¸ë±ìŠ¤ì— ì—†ìœ¼ë©´, ì ì ˆí•œ ìœ„ì¹˜ì— ì‚½ì…
2. ë§Œì•½ ìˆìœ¼ë©´
	- a. ë§Œì•½ ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ê°€ ëª¨ë“  ë ˆì½”ë“œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆë‹¤ë©´, ìƒˆë¡œìš´ ì—”íŠ¸ë¦¬ì— ëŒ€í•œ í¬ì¸í„°ë¥¼ ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ì— ì¶”ê°€
	- b. ë§Œì•½ ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ê°€ ê²€ìƒ‰ í‚¤ì— ëŒ€í•œ ì²«ë²ˆì§¸ ë ˆì½”ë“œë§Œì„ ê°€ë¦¬í‚¨ë‹¤ë©´, ê°™ì€ í‚¤ë¥¼ ê°€ì§„ ë‹¤ë¥¸ ë ˆì½”ë“œ ë’¤ì— ì¶”ê°€
   
- sparse index
	- ì¸ë±ìŠ¤ê°€ ê° ë¸”ëŸ­ì˜ ì²«ë²ˆì§¸ë¥¼ ê°€ë¦¬í‚¤ë¯€ë¡œ, ë§Œì•½ ìƒˆ ë¸”ëŸ­ì„ ë§Œë“¤ì—ˆë‹¤ë©´ ì²«ë²ˆì§¸ ê²€ìƒ‰ í‚¤ ê°’ìœ¼ë¡œ ì‚½ì…
	- ë§Œì•½ ìƒˆ ë ˆì½”ë“œê°€ ë¸”ëŸ­ ì•ˆì—ì„œ ì œì¼ ì‘ì€ ê²€ìƒ‰í‚¤ë³´ë‹¤ë„ ë” ì‘ë‹¤ë©´, ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ë¥¼ ìˆ˜ì •
	- ë§Œì•½ ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ëŸ° ë³€í™” ì—†ìŒ


##### 2.3.2 ì‚­ì œ

- dense index
1. ë§Œì•½ ì‚­ì œí•  ë ˆì½”ë“œê°€ ìœ ì¼í•œ ê²€ìƒ‰í‚¤ì— ëŒ€í•œ ë ˆì½”ë“œì¼ë•Œ, ì¸ë±ìŠ¤ë„ ê°™ì´ ì‚­ì œ
2. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´
  	- a. ë§Œì•½ ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ê°€ ê°™ì€ ê²€ìƒ‰í‚¤ì— ëŒ€í•œ ëª¨ë“  í¬ì¸í„°ë¥¼ ì €ì¥í•˜ëŠ” í˜•íƒœë¼ë©´, ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ì—ì„œ í•´ë‹¹ í¬ì¸í„°ë¥¼ ì‚­ì œ
  	- b. ë§Œì•½ ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ê°€ ê²€ìƒ‰ í‚¤ì— ëŒ€í•œ ì²«ë²ˆì§¸ ë ˆì½”ë“œë§Œì„ ê°€ë¦¬í‚¤ëŠ” í˜•íƒœì—ì„œ ì‚­ì œí•  ë ˆì½”ë“œê°€ ì²«ë²ˆì§¸ ë ˆì½”ë“œë¼ë©´ í•´ë‹¹ ì¸ë±ìŠ¤ê°€ ë‹¤ìŒ ë ˆì½”ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ì—…ë°ì´íŠ¸

- sparse index
1. ë§Œì•½ ì¸ë±ìŠ¤ê°€ í•´ë‹¹ ê²€ìƒ‰ í‚¤ë¥¼ ê°€ì§„ ì—”íŠ¸ë¦¬ê°€ ì—†ë‹¤ë©´, ì•„ë¬´ ì¼ë„ ì•ˆ ì¼ì–´ë‚¨
2. ë§Œì•½ ê·¸ë ‡ì§€ ì•Šë‹¤ë©´
	- a. ë§Œì•½ ì‚­ì œëœ ë ˆì½”ë“œê°€ ìœ ì¼í•œ ê²€ìƒ‰ í‚¤ì˜€ë‹¤ë©´, ë‹¤ìŒ ê²€ìƒ‰ í‚¤ ê°’ì„ ê°€ë¦¬í‚¤ë„ë¡ -> ë§Œì•½ ì´ë¯¸ ê°€ë¦¬í‚¤ëŠ”ê²Œ ìˆë‹¤ë©´, ê·¸ ì—”íŠ¸ë¦¬ëŠ” ì‚­ì œë¨
	- b. ë§Œì•½ ì¸ë±ìŠ¤ ì—”íŠ¸ë¦¬ê°€ ì‚­ì œëœ ë ˆì½”ë“œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆì—ˆë‹¤ë©´, ê°™ì€ ê²€ìƒ‰ í‚¤ê°’ì„ ê°€ì§„ ë‹¤ìŒ ë ˆì½”ë“œë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ì—…ë°ì´íŠ¸








### 3. B+-Tree ì¸ë±ìŠ¤ íŒŒì¼
- ë£¨íŠ¸ì—ì„œ ë¦¬í”„ê¹Œì§€ì˜ ê¸¸ì´ê°€ ëª¨ë‘ ê°™ì€ ê· í˜• íŠ¸ë¦¬ í˜•íƒœë¥¼ ìœ ì§€í•¨

#### 3.1 B+-Treeì˜ êµ¬ì¡°
- ë©€í‹° ë ˆë²¨ ì¸ë±ìŠ¤ì´ì§€ë§Œ, ë©€í‹° ë ˆë²¨ index-sequential íŒŒì¼í•˜ê³ ëŠ” ì¡°ê¸ˆ ë‹¤ë¦„
- ë…¸ë“œ ì•ˆì˜ ê²€ìƒ‰ í‚¤ë“¤ì€ ì •ë ¬ë˜ì–´ìˆìŒ
- ë¦¬í”„ ë…¸ë“œ ì•ˆì˜ í¬ì¸í„°ë“¤ì€ ì‹¤ì œ ë ˆì½”ë“œë¥¼ ê°€ë¦¬í‚´
- ë¦¬í”„ ë…¸ë“œ ì•ˆì˜ ë§ˆì§€ë§‰ í¬ì¸í„°ëŠ” ë‹¤ìŒ ë¦¬í”„ ë…¸ë“œë¥¼ ê°€ë¦¬í‚´ - ìˆœì°¨ ê²€ìƒ‰ì´ ê°€ëŠ¥í•˜ë„ë¡
- ë…¼ë¦¬í”„ ë…¸ë“œëŠ” ë¦¬í”„ ë…¸ë“œì— ëŒ€í•œ ë©€í‹° ë ˆë²¨ sparse ì¸ë±ìŠ¤ì„
 

#### 3.2 ì—…ë°ì´íŠ¸
- ì‚½ì… : ë¨¼ì € find() ë¥¼ í†µí•´ ìœ„ì¹˜ë¥¼ ì°¾ê³ , ê±°ê¸°ì— ì‚½ì…
- ì‚­ì œ : ë¨¼ì € find() ë¥¼ í†µí•´ ì‚­ì œí•  ë ˆì½”ë“œì˜ ìœ„ì¹˜ë¥¼ ì°¾ê³ , ì‚­ì œí•œ í›„ì— ë…¸ë“œ ì•ˆì˜ ë‚˜ë¨¸ì§€ë“¤ì„ ì™¼ìª½ìœ¼ë¡œ ì‰¬í”„íŠ¸






### 4. í•´ì‹œ ì¸ë±ìŠ¤
- ê²€ìƒ‰ í‚¤ë¥¼ í•´ì‹œ í•¨ìˆ˜ì— ì§‘ì–´ë„£ì–´ ë§Œë“  í•´ì‹œ ê°’ì´ ë²„ì¼“ì˜ ì¸ë±ìŠ¤ê°€ ë¨
- ë²„ì¼“ì€ ë ˆì½”ë“œë“¤ì˜ ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¡œ êµ¬ì„±
- ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¡œ êµ¬ì„±í•˜ëŠ”ê²ƒ - overflow chaining (closed addresssing)
- open addressing (ex linear probing) ë°©ë²•ì€ ì‚­ì œ ì‹œì— íš¨ìœ¨ì ì´ì§€ ëª»í•´ì„œ ì˜ ì“°ì´ì§€ ì•ŠìŒ
- í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ë²”ìœ„ ê²€ìƒ‰ì„ í•  ìˆ˜ ì—†ìŒ
- í•œìª½ ë²„ì¼“ì— ë ˆì½”ë“œë“¤ì´ ì ë¦¬ëŠ” skew í˜„ìƒ ë°œìƒ ê°€ëŠ¥ - ì¢‹ì€ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì¨ì•¼ í•˜ì§€ë§Œ ì™„ì „íˆ ê·¹ë³µì€ ë¶ˆê°€ëŠ¥
- static hashing : ë²„ì¼“ì˜ ìˆ˜ê°€ ê³ ì •ë˜ì–´ìˆëŠ” í˜•íƒœ - ë²„ì¼“ì˜ ìˆ˜ë³´ë‹¤ ë ˆì½”ë“œê°€ ë” ë§ì•„ì§€ë©´ ê²€ìƒ‰ì—ì„œ ë¹„íš¨ìœ¨ì 
- dynamic hashing : ë§Œì•½ ë ˆì½”ë“œ ìˆ˜ê°€ ë²„ì¼“ì˜ ìˆ˜ì˜ ë‘ë°°ê°€ ë˜ë©´, rebuilding -> ë²„ì¼“ì˜ ìˆ˜ë¥¼ ë‘ë°°ë¡œ























#### Ordered Indices
- Primary index : ê²€ìƒ‰ í‚¤ê°€ íŒŒì¼ì˜ ìˆœì„œì™€ ì¼ì¹˜í•˜ëŠ” ì¸ë±ìŠ¤ (clustering index)
- Secondary index : ê²€ìƒ‰ í‚¤ê°€ íŒŒì¼ì˜ ìˆœì„œì™€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ì¸ë±ìŠ¤ (non-clustering index)
